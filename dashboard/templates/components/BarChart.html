<script type="text/javascript">
    google.charts.load('current', {'packages':['bar']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
      var data = google.visualization.arrayToDataTable([
      {% if databar %}
        
        ['Name',{% for name in name %} '{{name.name}}', {% endfor %} ],
        {% for databar in databar%}
        ['{{databar.date}}',{{databar.GG}},{{databar.Non}},{{databar.Tor}}],
        {% endfor %}
      {% endif %}
      ]);

      var options = {
        chart: {
          title: 'Company Performance',
          subtitle: 'Sales, Expenses, and Profit: 2014-2017',
        }
      };

      var chart = new google.charts.Bar(document.getElementById('columnchart_material'));

      chart.draw(data, google.charts.Bar.convertOptions(options));
    }

    $(window).resize(function(){
      drawChart()
    });
  </script>
